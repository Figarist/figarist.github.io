# ============================================================
#  Figarist — Jekyll Configuration
# ============================================================

title: "Figarist Blog"
description: "Indie Dev (Unity, Wear OS), Educator, and Tech Enthusiast."
url: "https://figarist.github.io"
baseurl: ""

lang: "en"
author:
  name: "Ihor Sivochka"
  twitter: "figarist"
  url: "https://figarist.github.io"

social:
  name: "Ihor Sivochka"
  links:
    - "https://www.youtube.com/@proVR_ua"
    - "https://t.me/proVR_ua"
    - "https://github.com/Figarist"

# ── Build ────────────────────────────────────────────────────
markdown: kramdown
highlighter: rouge
sass:
  style: compressed
  sourcemap: never

# ── Collections ──────────────────────────────────────────────
collections:
  education:
    output: true
    permalink: /education/:title/

# Exclude dev artefacts from the build
exclude:
  - README.md
  - Gemfile
  - Gemfile.lock
  - node_modules/
  - .agent/
  - .git/

# ── Plugins ──────────────────────────────────────────────────
plugins:
  - jekyll-seo-tag
  - jekyll-sitemap
  - jekyll-feed
  - jekyll-polyglot
  - jekyll-paginate-v2
  - jekyll-spaceship
  - jekyll-minifier
  - jekyll-webp
  - jekyll-redirect-from
  - jekyll-pwa-workbox

# ── Pagination Settings ──────────────────────────────────────
pagination:
  enabled: true
  per_page: 6
  permalink: "/blog/page/:num/"
  limit: 0
  sort_field: "date"
  sort_reverse: true

# ── Polyglot Settings ────────────────────────────────────────
languages: ["en", "uk", "ru", "ko"]
default_lang: "en"
exclude_from_localization:
  - assets
  - css
  - javascript
  - images
  - sitemap.xml
  - robots.txt
  - styles.scss
  - styles.css
parallel_localization: false

# ── Defaults ─────────────────────────────────────────────────
defaults:
  - scope:
      path: ""
    values:
      image: "/assets/images/default-social-card.webp"
  - scope:
      path: ""
      type: "posts"
    values:
      layout: "post"
  - scope:
      path: ""
      type: "pages"
    values:
      layout: "default"
  - scope:
      path: ""
      type: "education"
    values:
      layout: "education"

# ── Permalink ─────────────────────────────────────────────────
permalink: /blog/:year/:month/:day/:title/

# ── Feed ──────────────────────────────────────────────────────
feed:
  path: feed.xml

# ── Spaceship Settings ──────────────────────────────────────
jekyll-spaceship:
  mathjax:
    src: "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"
    config:
      tex2jax:
        inlineMath: [["$", "$"], ['\\(', '\\)']]
        displayMath: [["$$", "$$"], ['\\[', '\\]']]
        processEscapes: true
  mermaid:
    src: "https://unpkg.com/mermaid/dist/mermaid.min.js"
  video:
    youtube:
      width: 100%
      height: auto
  audio:
  table:

# ── Minifier Settings ────────────────────────────────────────
jekyll_minifier:
  exclude:
    - "node_modules/**/*"
    - "vendor/**/*"
  uglifier_args:
    harmony: true

# ── WebP Generator Settings ──────────────────────────────────
webp:
  enabled: true
  quality: 85
  img_dir: ["assets/images"] # Our main image directory
  formats: [".jpeg", ".jpg", ".png", ".tiff"]
  append_ext: false # Replaces the extension (image.webp) instead of appending (image.png.webp)

# ── PWA Settings ──────────────────────────────────────────────
pwa:
  sw_src_filepath: "service-worker.js"
  sw_dest_filename: "sw.js"
  precache_glob_directory: "_site"
  precache_glob_patterns:
    - "assets/**/*.{js,css,webp,svg}"
    - "index.html"
